import React, { useEffect, useRef } from 'react';

// The path data for "NOW" repeated three times.
const SVG_PATH_D = "M2.50 43.85Q1.40 43.85 0.70 43.15Q0 42.45 0 41.20Q0 40.50 0.28 39.63Q0.55 38.75 1.20 37.75Q2.35 35.95 4.17 33.73Q6.00 31.50 8.05 29.30Q10.10 27.10 11.93 25.27Q13.75 23.45 14.85 22.45Q15.35 20.95 15.82 19.35Q16.30 17.75 16.80 16.05Q15.40 17.35 13.63 18Q11.85 18.65 10.30 18.75L10.25 18.75Q9.75 18.75 9.75 18.40Q9.75 18 10.35 17.95Q11.80 17.80 13.35 16.82Q14.90 15.85 16.23 14.32Q17.55 12.80 18.25 11.05Q18.35 10.75 18.93 10.60Q19.50 10.45 20.15 10.45Q20.70 10.45 21.13 10.57Q21.55 10.70 21.45 11.05Q20.55 13.35 19.70 15.47Q18.85 17.60 18.05 19.60Q21 17.10 23.57 15.42Q26.15 13.75 27.75 13.65Q30.60 13.50 32.23 14.60Q33.85 15.70 34.53 17.52Q35.20 19.35 35.20 21.40Q35.20 21.90 35.18 22.35Q35.15 22.80 35.10 23.25Q34.85 25.55 34.10 28.50Q33.35 31.45 32.50 34Q32.40 34.25 32.20 34.88Q32 35.50 32.15 35.50Q32.20 35.50 32.65 34.85Q33.90 32.80 35.08 30.82Q36.25 28.85 37.60 26.75Q39.60 23.65 41.98 20.50Q44.35 17.35 46.75 14.85Q47.70 13.85 48.73 13.35Q49.75 12.85 50.65 12.85Q51.65 12.85 52.33 13.52Q53.00 14.20 53.00 15.60Q53.00 15.95 52.93 16.38Q52.85 16.80 52.75 17.30Q52.15 19.70 51.35 21.70Q50.55 23.70 49.75 25.63Q48.95 27.55 48.33 29.65Q47.70 31.75 47.45 34.30Q47.40 34.75 47.38 35.15Q47.35 35.55 47.35 35.90Q47.35 37.60 47.85 38.38Q48.35 39.15 49.15 39.15Q50.10 39.15 51.38 38.33Q52.65 37.50 53.95 36.27Q55.25 35.05 56.30 33.88Q57.35 32.70 57.85 32Q57.95 31.85 58.15 31.85Q58.35 31.85 58.50 32Q58.65 32.15 58.50 32.40Q57.85 33.40 56.68 34.73Q55.50 36.05 54.23 37.27Q52.95 38.50 51.95 39.25Q51.20 39.80 50.23 40.15Q49.25 40.50 48.30 40.50Q47.20 40.50 46.30 39.95Q45.40 39.40 45.05 38.05Q44.90 37.55 44.85 37Q44.80 36.45 44.80 35.85Q44.80 33.75 45.40 31.17Q46.00 28.60 46.90 26.02Q47.80 23.45 48.63 21.32Q49.45 19.20 49.90 17.95Q50.25 17.25 50.25 16.65Q50.25 15.60 49.35 15.60Q48.60 15.60 47.60 16.45Q46.15 17.70 44.43 19.70Q42.70 21.70 40.93 24.10Q39.15 26.50 37.48 29.02Q35.80 31.55 34.43 33.88Q33.05 36.20 32.20 38Q31.85 38.75 31.40 38.75Q31.05 38.75 30.73 38.30Q30.40 37.85 30.23 37.33Q30.05 36.80 30.15 36.60Q30.80 35 31.35 32.67Q31.90 30.35 32.25 27.73Q32.60 25.10 32.60 22.70Q32.60 19.50 31.80 17.27Q31 15.05 29 15.05Q27.70 15.05 25.70 16.15Q23.70 17.25 21.38 19.10Q19.05 20.95 16.60 23.20Q16.15 24.30 15.28 26.40Q14.40 28.50 13.22 31.05Q12.05 33.60 10.63 36.13Q9.20 38.65 7.70 40.55Q6.35 42.25 5 43.05Q3.65 43.85 2.50 43.85M2.75 42.10Q4.05 42.10 5.43 40.73Q6.80 39.35 8.18 37.23Q9.55 35.10 10.70 32.80Q11.85 30.50 12.68 28.55Q13.50 26.60 13.85 25.65Q12.45 27 10.90 28.63Q9.35 30.25 7.88 31.92Q6.40 33.60 5.20 35.05Q4 36.50 3.30 37.45Q2.50 38.55 2.13 39.42Q1.75 40.30 1.75 40.95Q1.75 42.10 2.75 42.10ZM57.80 40.45Q56.75 40.45 56.18 40.27Q55.60 40.10 55.60 39.45Q55.60 39.20 55.65 38.92Q55.70 38.65 55.85 38.30Q56.10 37.75 56.70 37.48Q57.30 37.20 57.80 37.20Q58.30 37.20 58.70 37.45Q59.40 37.95 60.35 38.33Q61.30 38.70 62.35 38.70Q63.55 38.70 64.80 38.13Q66.05 37.55 67.15 36Q68.65 34.05 69.95 31.13Q71.25 28.20 72.33 24.95Q73.40 21.70 74.25 18.63Q75.10 15.55 75.65 13.30Q73.05 13.50 70.60 14.17Q68.15 14.85 66.58 16.07Q65 17.30 65 19.10Q65 20.10 65.55 20.72Q66.10 21.35 66.83 21.70Q67.55 22.05 68 22.30Q68.35 22.50 68.35 22.65Q68.35 22.95 67.90 22.75Q67.30 22.60 66.38 22.07Q65.45 21.55 64.73 20.65Q64 19.75 63.95 18.60Q63.95 18.50 63.88 18.30Q63.80 18.10 63.80 17.95Q63.70 16.05 64.78 14.75Q65.85 13.45 67.68 12.63Q69.50 11.80 71.73 11.42Q73.95 11.05 76.20 11.05L76.40 10.55Q76.50 10.30 76.98 10.13Q77.45 9.95 77.95 9.95Q78.45 9.95 78.78 10.10Q79.10 10.25 79.10 10.50Q79.10 10.75 78.85 11.15Q80.50 11.30 81.88 11.65Q83.25 12 84.20 12.50Q84.55 12.65 85.03 13.13Q85.50 13.60 85.50 13.90Q85.50 14.15 85.10 14.15Q84.90 14.15 84.60 14.10Q84.30 14.05 83.90 13.90Q82.95 13.55 81.43 13.40Q79.90 13.25 78.15 13.25Q77.40 15.55 76.38 18.70Q75.35 21.85 74.08 25.23Q72.80 28.60 71.30 31.67Q69.80 34.75 68.15 36.85Q67.65 37.35 67.18 37.85Q66.70 38.35 66.25 38.75Q69 38.80 71.28 38.70Q73.55 38.60 75.10 38.55L75.40 38.55Q75.95 38.55 75.95 38.80Q75.95 39.05 75.65 39.35Q75.35 39.65 75.15 39.75Q74.90 39.85 73.43 39.98Q71.95 40.10 69.78 40.17Q67.60 40.25 65.25 40.33Q62.90 40.40 60.90 40.42Q58.90 40.45 57.80 40.45ZM78.75 43.85Q77.65 43.85 76.95 43.15Q76.25 42.45 76.25 41.20Q76.25 40.50 76.53 39.63Q76.80 38.75 77.45 37.75Q78.60 35.95 80.42 33.73Q82.25 31.50 84.30 29.30Q86.35 27.10 88.18 25.27Q90 23.45 91.10 22.45Q91.60 20.95 92.08 19.35Q92.55 17.75 93.05 16.05Q91.65 17.35 89.88 18Q88.10 18.65 86.55 18.75L86.50 18.75Q86 18.75 86 18.40Q86 18 86.60 17.95Q88.05 17.80 89.60 16.82Q91.15 15.85 92.48 14.32Q93.80 12.80 94.50 11.05Q94.60 10.75 95.18 10.60Q95.75 10.45 96.40 10.45Q96.95 10.45 97.38 10.57Q97.80 10.70 97.70 11.05Q96.80 13.35 95.95 15.47Q95.10 17.60 94.30 19.60Q97.25 17.10 99.83 15.42Q102.40 13.75 104 13.65Q106.85 13.50 108.48 14.60Q110.10 15.70 110.78 17.52Q111.45 19.35 111.45 21.40Q111.45 21.90 111.43 22.35Q111.40 22.80 111.35 23.25Q111.10 25.55 110.35 28.50Q109.60 31.45 108.75 34Q108.65 34.25 108.45 34.88Q108.25 35.50 108.40 35.50Q108.45 35.50 108.90 34.85Q110.15 32.80 111.33 30.82Q112.50 28.85 113.85 26.75Q115.85 23.65 118.23 20.50Q120.60 17.35 123 14.85Q123.95 13.85 124.98 13.35Q126 12.85 126.90 12.85Q127.90 12.85 128.57 13.52Q129.25 14.20 129.25 15.60Q129.25 15.95 129.18 16.38Q129.10 16.80 129 17.30Q128.40 19.70 127.60 21.70Q126.80 23.70 126 25.63Q125.20 27.55 124.58 29.65Q123.95 31.75 123.70 34.30Q123.65 34.75 123.63 35.15Q123.60 35.55 123.60 35.90Q123.60 37.60 124.10 38.38Q124.60 39.15 125.40 39.15Q126.35 39.15 127.63 38.33Q128.90 37.50 130.20 36.27Q131.50 35.05 132.55 33.88Q133.60 32.70 134.10 32Q134.20 31.85 134.40 31.85Q134.60 31.85 134.75 32Q134.90 32.15 134.75 32.40Q134.10 33.40 132.93 34.73Q131.75 36.05 130.48 37.27Q129.20 38.50 128.20 39.25Q127.45 39.80 126.48 40.15Q125.50 40.50 124.55 40.50Q123.45 40.50 122.55 39.95Q121.65 39.40 121.30 38.05Q121.15 37.55 121.10 37Q121.05 36.45 121.05 35.85Q121.05 33.75 121.65 31.17Q122.25 28.60 123.15 26.02Q124.05 23.45 124.88 21.32Q125.70 19.20 126.15 17.95Q126.50 17.25 126.50 16.65Q126.50 15.60 125.60 15.60Q124.85 15.60 123.85 16.45Q122.40 17.70 120.68 19.70Q118.95 21.70 117.18 24.10Q115.40 26.50 113.72 29.02Q112.05 31.55 110.68 33.88Q109.30 36.20 108.45 38Q108.10 38.75 107.65 38.75Q107.30 38.75 106.98 38.30Q106.65 37.85 106.48 37.33Q106.30 36.80 106.40 36.60Q107.05 35 107.60 32.67Q108.15 30.35 108.50 27.73Q108.85 25.10 108.85 22.70Q108.85 19.50 108.05 17.27Q107.25 15.05 105.25 15.05Q103.95 15.05 101.95 16.15Q99.95 17.25 97.63 19.10Q95.30 20.95 92.85 23.20Q92.40 24.30 91.53 26.40Q90.65 28.50 89.48 31.05Q88.30 33.60 86.88 36.13Q85.45 38.65 83.95 40.55Q82.60 42.25 81.25 43.05Q79.90 43.85 78.75 43.85M79 42.10Q80.30 42.10 81.67 40.73Q83.05 39.35 84.42 37.23Q85.80 35.10 86.95 32.80Q88.10 30.50 88.93 28.55Q89.75 26.60 90.10 25.65Q88.70 27 87.15 28.63Q85.60 30.25 84.13 31.92Q82.65 33.60 81.45 35.05Q80.25 36.50 79.55 37.45Q78.75 38.55 78.38 39.42Q78 40.30 78 40.95Q78 42.10 79 42.10ZM133.50 43.85Q132.40 43.85 131.70 43.15Q131 42.45 131 41.20Q131 40.50 131.27 39.63Q131.55 38.75 132.20 37.75Q133.35 35.95 135.17 33.73Q137 31.50 139.05 29.30Q141.10 27.10 142.92 25.27Q144.75 23.45 145.85 22.45Q146.35 20.95 146.82 19.35Q147.30 17.75 147.80 16.05Q146.40 17.35 144.63 18Q142.85 18.65 141.30 18.75L141.25 18.75Q140.75 18.75 140.75 18.40Q140.75 18 141.35 17.95Q142.80 17.80 144.35 16.82Q145.90 15.85 147.22 14.32Q148.55 12.80 149.25 11.05Q149.35 10.75 149.92 10.60Q150.50 10.45 151.15 10.45Q151.70 10.45 152.13 10.57Q152.55 10.70 152.45 11.05Q151.55 13.35 150.70 15.47Q149.85 17.60 149.05 19.60Q152 17.10 154.57 15.42Q157.15 13.75 158.75 13.65Q161.60 13.50 163.22 14.60Q164.85 15.70 165.52 17.52Q166.20 19.35 166.20 21.40Q166.20 21.90 166.17 22.35Q166.15 22.80 166.10 23.25Q165.85 25.55 165.10 28.50Q164.35 31.45 163.50 34Q163.40 34.25 163.20 34.88Q163 35.50 163.15 35.50Q163.20 35.50 163.65 34.85Q164.90 32.80 166.07 30.82Q167.25 28.85 168.60 26.75Q170.60 23.65 172.97 20.50Q175.35 17.35 177.75 14.85Q178.70 13.85 179.72 13.35Q180.75 12.85 181.65 12.85Q182.65 12.85 183.32 13.52Q184 14.20 184 15.60Q184 15.95 183.92 16.38Q183.85 16.80 183.75 17.30Q183.15 19.70 182.35 21.70Q181.55 23.70 180.75 25.63Q179.95 27.55 179.32 29.65Q178.70 31.75 178.45 34.30Q178.40 34.75 178.38 35.15Q178.35 35.55 178.35 35.90Q178.35 37.60 178.85 38.38Q179.35 39.15 180.15 39.15Q181.10 39.15 182.38 38.33Q183.65 37.50 184.95 36.27Q186.25 35.05 187.30 33.88Q188.35 32.70 188.85 32Q188.95 31.85 189.15 31.85Q189.35 31.85 189.50 32Q189.65 32.15 189.50 32.40Q188.85 33.40 187.67 34.73Q186.50 36.05 185.22 37.27Q183.95 38.50 182.95 39.25Q182.20 39.80 181.22 40.15Q180.25 40.50 179.30 40.50Q178.20 40.50 177.30 39.95Q176.40 39.40 176.05 38.05Q175.90 37.55 175.85 37Q175.80 36.45 175.80 35.85Q175.80 33.75 176.40 31.17Q177 28.60 177.90 26.02Q178.80 23.45 179.63 21.32Q180.45 19.20 180.90 17.95Q181.25 17.25 181.25 16.65Q181.25 15.60 180.35 15.60Q179.60 15.60 178.60 16.45Q177.15 17.70 175.42 19.70Q173.70 21.70 171.92 24.10Q170.15 26.50 168.47 29.02Q166.80 31.55 165.42 33.88Q164.05 36.20 163.20 38Q162.85 38.75 162.40 38.75Q162.05 38.75 161.72 38.30Q161.40 37.85 161.22 37.33Q161.05 36.80 161.15 36.60Q161.80 35 162.35 32.67Q162.90 30.35 163.25 27.73Q163.60 25.10 163.60 22.70Q163.60 19.50 162.80 17.27Q162 15.05 160 15.05Q158.70 15.05 156.70 16.15Q154.70 17.25 152.38 19.10Q150.05 20.95 147.60 23.20Q147.15 24.30 146.27 26.40Q145.40 28.50 144.22 31.05Q143.05 33.60 141.63 36.13Q140.20 38.65 138.70 40.55Q137.35 42.25 136 43.05Q134.65 43.85 133.50 43.85M133.75 42.10Q135.05 42.10 136.42 40.73Q137.80 39.35 139.17 37.23Q140.55 35.10 141.70 32.80Q142.85 30.50 143.67 28.55Q144.50 26.60 144.85 25.65Q143.45 27 141.90 28.63Q140.35 30.25 138.88 31.92Q137.40 33.60 136.20 35.05Q135 36.50 134.30 37.45Q133.50 38.55 133.13 39.42Q132.75 40.30 132.75 40.95Q132.75 42.10 133.75 42.10ZM188.80 40.45Q187.75 40.45 187.17 40.27Q186.60 40.10 186.60 39.45Q186.60 39.20 186.65 38.92Q186.70 38.65 186.85 38.30Q187.10 37.75 187.70 37.48Q188.30 37.20 188.80 37.20Q189.30 37.20 189.70 37.45Q190.40 37.95 191.35 38.33Q192.30 38.70 193.35 38.70Q194.55 38.70 195.80 38.13Q197.05 37.55 198.15 36Q199.65 34.05 200.95 31.13Q202.25 28.20 203.32 24.95Q204.40 21.70 205.25 18.63Q206.10 15.55 206.65 13.30Q204.05 13.50 201.60 14.17Q199.15 14.85 197.57 16.07Q196 17.30 196 19.10Q196 20.10 196.55 20.72Q197.10 21.35 197.82 21.70Q198.55 22.05 199 22.30Q199.35 22.50 199.35 22.65Q199.35 22.95 198.90 22.75Q198.30 22.60 197.38 22.07Q196.45 21.55 195.72 20.65Q195 19.75 194.95 18.60Q194.95 18.50 194.88 18.30Q194.80 18.10 194.80 17.95Q194.70 16.05 195.77 14.75Q196.85 13.45 198.67 12.63Q200.50 11.80 202.72 11.42Q204.95 11.05 207.20 11.05L207.40 10.55Q207.50 10.30 207.97 10.13Q208.45 9.95 208.95 9.95Q209.45 9.95 209.77 10.10Q210.10 10.25 210.10 10.50Q210.10 10.75 209.85 11.15Q211.50 11.30 212.88 11.65Q214.25 12 215.20 12.50Q215.55 12.65 216.02 13.13Q216.50 13.60 216.50 13.90Q216.50 14.15 216.10 14.15Q215.90 14.15 215.60 14.10Q215.30 14.05 214.90 13.90Q213.95 13.55 212.42 13.40Q210.90 13.25 209.15 13.25Q208.40 15.55 207.38 18.70Q206.35 21.85 205.07 25.23Q203.80 28.60 202.30 31.67Q200.80 34.75 199.15 36.85Q198.65 37.35 198.17 37.85Q197.70 38.35 197.25 38.75Q200 38.80 202.27 38.70Q204.55 38.60 206.10 38.55L206.40 38.55Q206.95 38.55 206.95 38.80Q206.95 39.05 206.65 39.35Q206.35 39.65 206.15 39.75Q205.90 39.85 204.42 39.98Q202.95 40.10 200.77 40.17Q198.60 40.25 196.25 40.33Q193.90 40.40 191.90 40.42Q189.90 40.45 188.80 40.45Z";

export default function NavbarLogo() {
    const pathRef = useRef(null);

    const customStyles = `
        /* 1. Define the Color Pulse Animation */
        @keyframes color-pulse {
            0% { stroke: #3b82f6; } /* Tailwind Blue-500 */
            50% { stroke: #9333ea; } /* Tailwind Violet-700 */
            100% { stroke: #3b82f6; }
        }

        /* 2. Define the Drawing Animation (for the path stroke) */
        @keyframes stroke-draw {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* 3. Apply Styling and Animations to the Path */
        .animated-path {
            fill: #00000055;
            stroke-width: 0.5; /* Increased slightly for better visibility */
            stroke-linecap: round;
            stroke-linejoin: round;
            
            /* Apply color pulse and stroke-draw animation */
            animation: color-pulse 4s infinite alternate, 
                       stroke-draw 7s infinite alternate;
        }
    `;

    useEffect(() => {
        const path = pathRef.current;
        if (path) {
            try {
                // 1. Calculate the total length of the path.
                const pathLength = path.getTotalLength();

                // 2. Set the stroke-dasharray to the total length. 
                path.style.strokeDasharray = pathLength;

                // 3. Set the stroke-dashoffset to the total length initially. 
                // This hides the path, ready for the animation to start.
                path.style.strokeDashoffset = pathLength;
                
            } catch (error) {
                // Handle case where getTotalLength might fail in certain environments
                console.error("Error calculating SVG path length:", error);
            }
        }
        
        // This effect runs only once after the component mounts
    }, []);

    return (
        <div className="flex items-center justify-center font-sans">
            {/* Inject the custom CSS styles into the document head */}
            <style dangerouslySetInnerHTML={{ __html: customStyles }} />

            <div className=" text-center">
                
                <div className="">
                    
                    {/* SVG Container */}
                    <svg
                        className="svg-container h-6 md:h-7 w-auto block md:mx-auto transition duration-500 hover:scale-[1.02]"
                        fill="#000000"
                        viewBox="0 9.949999809265137 216.5 33.89999771118164" 
                        style={{ display: 'block', margin: '0 auto' }}
                    >
                        <defs />
                        <g className="animated-group" fill="#000000">
                            <g transform="translate(0, 0)">
                                <path 
                                    ref={pathRef}
                                    className="animated-path"
                                    id="svg-path"
                                    d={SVG_PATH_D}
                                />
                            </g>
                        </g>
                    </svg>

                </div>
            </div>
        </div>
    );
}
